{
  "version": 3,
  "sources": ["src/app/_helpers/auth.guard.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\r\nimport { Router, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { AccountService } from '../_services';\r\nimport { Role } from '../_models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard {\r\n    constructor(\r\n        private router: Router,\r\n        private accountService: AccountService\r\n    ) { }\r\n\r\n   canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\r\n    const account = this.accountService.accountValue;\r\n\r\n    if (!account) {\r\n        this.router.navigate(['/account/login'], { queryParams: { returnUrl: state.url } });\r\n        return false;\r\n    }\r\n\r\n    // Ensure correct property access for 'roles'\r\n    const requiredRoles = route.data['roles']; \r\n    if (requiredRoles && !requiredRoles.includes(account.role)) {\r\n        this.router.navigate(['/']);\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;AAOM,IAAO,YAAP,MAAO,WAAS;EAEN;EACA;EAFZ,YACY,QACA,gBAA8B;AAD9B,SAAA,SAAA;AACA,SAAA,iBAAA;EACR;EAEL,YAAY,OAA+B,OAA0B;AACpE,UAAM,UAAU,KAAK,eAAe;AAEpC,QAAI,CAAC,SAAS;AACV,WAAK,OAAO,SAAS,CAAC,gBAAgB,GAAG,EAAE,aAAa,EAAE,WAAW,MAAM,IAAG,EAAE,CAAE;AAClF,aAAO;IACX;AAGA,UAAM,gBAAgB,MAAM,KAAK,OAAO;AACxC,QAAI,iBAAiB,CAAC,cAAc,SAAS,QAAQ,IAAI,GAAG;AACxD,WAAK,OAAO,SAAS,CAAC,GAAG,CAAC;AAC1B,aAAO;IACX;AAEA,WAAO;EACX;;qCAtBa,YAAS,mBAAA,MAAA,GAAA,mBAAA,cAAA,CAAA;EAAA;4EAAT,YAAS,SAAT,WAAS,WAAA,YADI,OAAM,CAAA;;;sEACnB,WAAS,CAAA;UADrB;WAAW,EAAE,YAAY,OAAM,CAAE;;;",
  "names": []
}
