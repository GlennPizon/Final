import{a as m,b as a}from"./chunk-VP6CFJRX.js";import{e as p,i as s,n,p as i}from"./chunk-Y3NWWHFQ.js";var u=class e{constructor(t){this.accountService=t}intercept(t,o){return o.handle(t).pipe(s(r=>{[401,403].includes(r.status)&&this.accountService.accountValue&&this.accountService.logout();let c=r&&r.error&&r.error.message||r.statusText;return console.error(r),p(c)}))}static \u0275fac=function(o){return new(o||e)(i(a))};static \u0275prov=n({token:e,factory:e.\u0275fac})};var f=class e{constructor(t){this.accountService=t}intercept(t,o){let r=this.accountService.accountValue,c=r&&r.jwtToken,l=t.url.startsWith(m.apiUrl);return c&&l&&(t=t.clone({setHeaders:{Authorization:`Bearer ${r.jwtToken}`}})),o.handle(t)}static \u0275fac=function(o){return new(o||e)(i(a))};static \u0275prov=n({token:e,factory:e.\u0275fac})};function A(e){return()=>new Promise(t=>{e.refreshToken().subscribe().add(t)})}function j(e,t){return o=>{let r=o.controls[e],c=o.controls[t];c.errors&&!c.errors.mustMatch||(r.value!==c.value?c.setErrors({mustMatch:!0}):c.setErrors(null))}}export{u as a,f as b,j as c,A as d};
